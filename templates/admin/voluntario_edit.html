{% extends 'base.html' %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="margin: 0;">Editar Voluntário</h2>
        <a href="{{ url_for('admin_voluntarios') }}" class="btn btn-secondary">Voltar</a>
    </div>

    <form method="POST" action="{{ url_for('edit_voluntario', id=voluntario.id) }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div class="form-group" style="margin-bottom: 0;">
                <label for="nome">Nome Completo</label>
                <input type="text" id="nome" name="nome" value="{{ voluntario.nome }}" required>
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label for="telefone">Telefone (Somente Números)</label>
                <input type="tel" id="telefone" name="telefone" value="{{ voluntario.telefone }}" required>
            </div>
        </div>

        <div class="form-group" style="margin-bottom: 1rem;">
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                <input type="checkbox" name="responsavel" style="width: auto;" {% if voluntario.responsavel %}checked{%
                    endif %}> Líder / Responsável
            </label>
            <small class="text-muted">Se marcado, o voluntário aparecerá na linha principal do dashboard quando
                escalado.</small>
        </div>

        <div class="form-group" style="margin-top: 1.5rem;">
            <label style="margin-bottom: 0.5rem; display: block; font-weight: 600;">Áreas de Atuação</label>
            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
                {% if areas %}
                {% for area in areas %}
                <label
                    style="display: flex; align-items: center; gap: 0.35rem; cursor: pointer; background: #f8fafc; padding: 0.5rem 0.75rem; border-radius: 6px; border: 1px solid var(--border); font-size: 0.9rem;">
                    <input type="checkbox" name="areas" value="{{ area.id }}" style="margin: 0; width: auto;" {% if
                        area.id in voluntario_areas_ids %}checked{% endif %}>
                    {{ area.nome }}
                </label>
                {% endfor %}
                {% else %}
                <span class="text-muted" style="font-size: 0.85rem;">Cadastre áreas primeiro.</span>
                {% endif %}
            </div>
        </div>

        <div
            style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); display: flex; justify-content: flex-end;">
            <button type="submit" class="btn btn-primary" style="padding: 0.75rem 2rem;">Salvar Alterações</button>
        </div>
    </form>
</div>
{% endblock %}